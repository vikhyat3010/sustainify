<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Community - Sustainify</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="community.css">
</head>

<body>

  <!-- Navigation -->
  <nav class="main-nav">
    <div class="nav-overlay"></div>
    <div class="nav-container">
      <div class="nav-brand">
        <div class="brand-icon">
          <svg class="brand-svg" viewBox="0 0 32 32">
            <path d="M16 28 L16 12" stroke-width="2" fill="none" stroke="currentColor" />
            <path d="M16 16 C16 16, 12 14, 10 10 C8 6, 10 4, 12 4 C14 4, 16 8, 16 12" stroke-width="2" fill="none"
              stroke="currentColor" />
            <path d="M16 16 C16 16, 20 14, 22 10 C24 6, 22 4, 20 4 C18 4, 16 8, 16 12" stroke-width="2" fill="none"
              stroke="currentColor" />
            <ellipse cx="14" cy="11" rx="1.5" ry="2.5" fill="currentColor" stroke="none" />
            <ellipse cx="18" cy="11" rx="1.5" ry="2.5" fill="currentColor" stroke="none" />
            <path d="M12 28 L20 28" stroke-width="2" fill="none" stroke-linecap="round" stroke="currentColor" />
          </svg>
        </div>
        <span class="brand-name">Sustainify</span>
      </div>

      <div class="nav-tabs">
        <button class="tab-btn" onclick="window.location.href='index.html'">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="width: 18px; height: 18px; margin-right: 0.25rem;">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
            <polyline points="9 22 9 12 15 12 15 22" />
          </svg>
          Home
        </button>
        <button class="tab-btn active">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
            style="width: 18px; height: 18px; margin-right: 0.25rem;">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
            <circle cx="9" cy="7" r="4" />
            <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
            <path d="M16 3.13a4 4 0 0 1 0 7.75" />
          </svg>
          Community
        </button>
      </div>
    </div>
  </nav>

  <!-- Community Section -->
  <section class="community-section">
    <!-- Background Orbs -->
    <div class="dashboard-bg">
      <div class="bg-orb orb-3"></div>
      <div class="bg-orb orb-4"></div>
      <div class="bg-orb orb-5"></div>
    </div>

    <div class="content">
      <!-- Header -->
      <div class="community-header">
        <h1 class="section-title gradient-green">Community Hub</h1>
        <p class="community-subtitle">Connect with eco-warriors, join local projects, and share your sustainable journey
        </p>
      </div>

      <!-- Community Tabs -->
      <div class="community-tabs">
        <button class="community-tab active" data-tab="projects" onclick="switchCommunityTab('projects')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2L2 7l10 5 10-5-10-5z" />
            <path d="M2 17l10 5 10-5M2 12l10 5 10-5" />
          </svg>
          <span>Projects</span>
        </button>
        <button class="community-tab" data-tab="chat" onclick="switchCommunityTab('chat')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
          </svg>
          <span>Community Chat</span>
        </button>
        <button class="community-tab" data-tab="gallery" onclick="switchCommunityTab('gallery')">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
            <circle cx="8.5" cy="8.5" r="1.5" />
            <polyline points="21 15 16 10 5 21" />
          </svg>
          <span>Photo Gallery</span>
        </button>
      </div>

      <!-- Projects Tab -->
      <div id="projects-tab" class="community-content active">
        <!-- Location Filter -->
        <div class="location-filter">
          <div class="filter-card">
            <div class="glass-reflection"></div>
            <div class="filter-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
                <circle cx="12" cy="10" r="3" />
              </svg>
            </div>
            <div class="filter-content">
              <label for="location-select">Filter by Location</label>
              <select id="location-select" onchange="filterProjects()">
                <option value="all">All Locations</option>
                <option value="andhra-pradesh">Andhra Pradesh</option>
                <option value="arunachal-pradesh">Arunachal Pradesh</option>
                <option value="assam">Assam</option>
                <option value="bihar">Bihar</option>
                <option value="chhattisgarh">Chhattisgarh</option>
                <option value="goa">Goa</option>
                <option value="gujarat">Gujarat</option>
                <option value="haryana">Haryana</option>
                <option value="himachal-pradesh">Himachal Pradesh</option>
                <option value="jharkhand">Jharkhand</option>
                <option value="karnataka">Karnataka</option>
                <option value="kerala">Kerala</option>
                <option value="madhya-pradesh">Madhya Pradesh</option>
                <option value="maharashtra">Maharashtra</option>
                <option value="manipur">Manipur</option>
                <option value="meghalaya">Meghalaya</option>
                <option value="mizoram">Mizoram</option>
                <option value="nagaland">Nagaland</option>
                <option value="odisha">Odisha</option>
                <option value="punjab">Punjab</option>
                <option value="rajasthan">Rajasthan</option>
                <option value="sikkim">Sikkim</option>
                <option value="tamil-nadu">Tamil Nadu</option>
                <option value="telangana">Telangana</option>
                <option value="tripura">Tripura</option>
                <option value="uttar-pradesh">Uttar Pradesh</option>
                <option value="uttarakhand">Uttarakhand</option>
                <option value="west-bengal">West Bengal</option>
                <option value="delhi">Delhi</option>
                <option value="jammu-kashmir">Jammu & Kashmir</option>
              </select>
            </div>

          </div>
        </div>

        <!-- Projects Grid -->
        <div class="projects-grid" id="projectsGrid"></div>

        <!-- Create Project Button -->
        <button class="create-project-btn" onclick="openCreateProjectModal()">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="5" x2="12" y2="19" />
            <line x1="5" y1="12" x2="19" y2="12" />
          </svg>
          Create New Project
        </button>
      </div>

      <!-- Chat Tab -->
      <div id="chat-tab" class="community-content">
        <div class="chat-container">
          <!-- Chat Sidebar -->
          <div class="chat-sidebar">
            <div class="chat-sidebar-header">
              <h3>Channels</h3>
              <button class="add-channel-btn" onclick="addChannel()">+</button>
            </div>
            <div class="channels-list" id="channelsList"></div>
          </div>

          <!-- Chat Main -->
          <div class="chat-main">
            <div class="chat-header">
              <div class="chat-header-info">
                <h3 id="currentChannelName">General Discussion</h3>
                <p id="channelMembers">1,234 members</p>
              </div>
            </div>

            <div class="chat-messages" id="chatMessages"></div>

            <div class="chat-input-container">
              <input type="text" id="chatInput" placeholder="Type your message..."
                onkeypress="handleChatKeyPress(event)" />
              <button class="send-btn" onclick="sendMessage()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="22" y1="2" x2="11" y2="13" />
                  <polygon points="22 2 15 22 11 13 2 9 22 2" />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Gallery Tab -->
      <div id="gallery-tab" class="community-content">
        <!-- Upload Section -->
        <div class="upload-section">
          <div class="upload-card">
            <div class="glass-reflection"></div>
            <div class="upload-icon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                <polyline points="17 8 12 3 7 8" />
                <line x1="12" y1="3" x2="12" y2="15" />
              </svg>
            </div>
            <h3>Share Your Eco Journey</h3>
            <p>Upload photos from your sustainable projects</p>
            <input type="file" id="photoInput" accept="image/*" multiple onchange="handlePhotoUpload(event)"
              style="display: none;">
            <button class="upload-btn" onclick="document.getElementById('photoInput').click()">
              Choose Photos
            </button>
          </div>
        </div>

        <!-- Gallery Grid -->
        <div class="gallery-grid" id="galleryGrid"></div>
      </div>
    </div>
  </section>

  <!-- Create Project Modal -->
  <div id="createProjectModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Create New Project</h2>
        <button class="close-btn" onclick="closeCreateProjectModal()">&times;</button>
      </div>
      <form id="createProjectForm" onsubmit="createProject(event)">
        <div class="form-group">
          <label>Project Name</label>
          <input type="text" name="projectName" required placeholder="e.g., Beach Cleanup Drive">
        </div>
        <div class="form-group">
          <label>Description</label>
          <textarea name="description" required placeholder="Tell us about your project..."></textarea>
        </div>
        <div class="form-group">
          <label>Location</label>
          <select name="location" required>
            <option value="">Select location</option>
            <option value="andhra-pradesh">Andhra Pradesh</option>
            <option value="arunachal-pradesh">Arunachal Pradesh</option>
            <option value="assam">Assam</option>
            <option value="bihar">Bihar</option>
            <option value="chhattisgarh">Chhattisgarh</option>
            <option value="goa">Goa</option>
            <option value="gujarat">Gujarat</option>
            <option value="haryana">Haryana</option>
            <option value="himachal-pradesh">Himachal Pradesh</option>
            <option value="jharkhand">Jharkhand</option>
            <option value="karnataka">Karnataka</option>
            <option value="kerala">Kerala</option>
            <option value="madhya-pradesh">Madhya Pradesh</option>
            <option value="maharashtra">Maharashtra</option>
            <option value="manipur">Manipur</option>
            <option value="meghalaya">Meghalaya</option>
            <option value="mizoram">Mizoram</option>
            <option value="nagaland">Nagaland</option>
            <option value="odisha">Odisha</option>
            <option value="punjab">Punjab</option>
            <option value="rajasthan">Rajasthan</option>
            <option value="sikkim">Sikkim</option>
            <option value="tamil-nadu">Tamil Nadu</option>
            <option value="telangana">Telangana</option>
            <option value="tripura">Tripura</option>
            <option value="uttar-pradesh">Uttar Pradesh</option>
            <option value="uttarakhand">Uttarakhand</option>
            <option value="west-bengal">West Bengal</option>
            <option value="delhi">Delhi</option>
            <option value="jammu-kashmir">Jammu & Kashmir</option>
          </select>
        </div>
        <div class="form-group">
          <label>Date</label>
          <input type="date" name="date" required>
        </div>
        <div class="form-group">
          <label>Category</label>
          <select name="category" required>
            <option value="">Select category</option>
            <option value="cleanup">Beach/Park Cleanup</option>
            <option value="planting">Tree Planting</option>
            <option value="recycling">Recycling Drive</option>
            <option value="awareness">Awareness Campaign</option>
            <option value="other">Other</option>
          </select>
        </div>
        <button type="submit" class="submit-btn">Create Project</button>
      </form>
    </div>
  </div>

  <!-- Photo Viewer Modal -->
  <div id="photoModal" class="modal">
    <div class="modal-content photo-modal-content">
      <button class="close-btn" onclick="closePhotoModal()">&times;</button>
      <img id="modalPhoto" src="" alt="Photo">
      <div class="photo-info">
        <h3 id="photoTitle"></h3>
        <p id="photoDescription"></p>
        <div class="photo-meta">
          <span id="photoAuthor"></span>
          <span id="photoDate"></span>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
  <script src="community.js"></script>
</body>

</html>